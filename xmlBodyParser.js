// Generated by CoffeeScript 1.4.0
(function(){var e,t,n,r;n=require("xml2js");t=require("express/node_modules/connect/lib/utils");e=new n.Parser;r=function(n,r,i){var s;if(n._body)return i();n.body=n.body||{};if("GET"===n.method||"HEAD"===n.method)return i();if("application/xml"!==t.mime(n))return i();n._body=!0;s="";n.setEncoding("utf8");n.on("data",function(e){return s+=e});return n.on("end",function(){return e.parseString(s,function(e,t){if(e){e.status=400;return i(e)}n.body=t;return i()})})};exports.xmlBodyParser=r}).call(this);